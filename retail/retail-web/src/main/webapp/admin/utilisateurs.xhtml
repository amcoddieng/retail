<ui:composition template="/WEB-INF/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">Admin — Gestion des Utilisateurs</ui:define>

    <ui:define name="content">
        <f:event type="preRenderView" listener="#{loginBean.checkAccess('ADMIN')}"/>

        <div class="admin-users-container">
            <!-- Header Section -->
            <div class="page-header">
                <div class="header-content">
                    <div class="header-title">
                        <i class="pi pi-users header-icon"></i>
                        <div>
                            <h1 class="page-title">Gestion des Utilisateurs</h1>
                            <p class="page-subtitle">Administrez les comptes et permissions du système</p>
                        </div>
                    </div>
                    <div class="header-stats">
                        <div class="stat-card">
                            <i class="pi pi-user-plus stat-icon"></i>
                            <div class="stat-info">
                                <span class="stat-number">#{adminUsersBean.users.size()}</span>
                                <span class="stat-label">Utilisateurs</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="users-content">
                <!-- Add User Button -->
                <div class="add-user-button-container">
                    <p:commandButton value="Ajouter un utilisateur" 
                                   onclick="PF('createUserDialog').show()"
                                   styleClass="btn btn-primary"
                                   icon="pi pi-plus" />
                </div>

                <!-- Create User Dialog -->
                <p:dialog header="Nouvel Utilisateur" 
                         widgetVar="createUserDialog" 
                         modal="true" 
                         draggable="false" 
                         resizable="false"
                         styleClass="create-user-dialog"
                         appendTo="@(body)">
                    <h:form id="createForm">
                        <p:growl id="createGrowl" showDetail="true" life="3000" sticky="false" 
                                styleClass="custom-growl" />

                        <div class="form-grid">
                            <div class="form-group">
                                <p:outputLabel for="nom" value="Nom *" />
                                <p:inputText id="nom" value="#{adminUsersBean.name}" 
                                           required="true" requiredMessage="Le nom est obligatoire"
                                           styleClass="form-control" />
                                <p:message for="nom" display="text" styleClass="error-message" />
                            </div>

                            <div class="form-group">
                                <p:outputLabel for="login" value="Login *" />
                                <p:inputText id="login" value="#{adminUsersBean.login}" 
                                           required="true" requiredMessage="Le login est obligatoire"
                                           styleClass="form-control" />
                                <p:message for="login" display="text" styleClass="error-message" />
                            </div>

                            <div class="form-group">
                                <p:outputLabel for="password" value="Mot de passe *" />
                                <p:password id="password" value="#{adminUsersBean.password}" 
                                          required="true" requiredMessage="Le mot de passe est obligatoire"
                                          styleClass="form-control" feedback="true" 
                                          promptLabel="Entrez un mot de passe"
                                          weakLabel="Faible" goodLabel="Moyen" strongLabel="Fort" />
                                <p:message for="password" display="text" styleClass="error-message" />
                            </div>

                            <div class="form-group">
                                <p:outputLabel for="email" value="Email *" />
                                <p:inputText id="email" value="#{adminUsersBean.email}" 
                                           required="true" requiredMessage="L'email est obligatoire"
                                           validatorMessage="Format d'email invalide"
                                           styleClass="form-control">
                                    <f:validateRegex pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" />
                                </p:inputText>
                                <p:message for="email" display="text" styleClass="error-message" />
                            </div>

                            <div class="form-group">
                                <p:outputLabel for="telephone" value="Téléphone" />
                                <p:inputText id="telephone" value="#{adminUsersBean.telephone}" 
                                           styleClass="form-control" />
                                <p:message for="telephone" display="text" styleClass="error-message" />
                            </div>
                            
                            <div class="form-group">
                                <p:outputLabel for="codePostal" value="Code Postal" />
                                <p:inputText id="codePostal" value="#{adminUsersBean.codePostal}" 
                                           styleClass="form-control" />
                                <p:message for="codePostal" display="text" styleClass="error-message" />
                            </div>
                            
                            <div class="form-group">
                                <p:outputLabel for="adresse" value="Adresse" />
                                <p:inputText id="adresse" value="#{adminUsersBean.adresse}" 
                                           styleClass="form-control" />
                                <p:message for="adresse" display="text" styleClass="error-message" />
                            </div>
                        </div>

                        <div class="dialog-footer">
                            <p:commandButton value="Annuler" 
                                           onclick="PF('createUserDialog').hide()"
                                           styleClass="btn btn-secondary"
                                           immediate="true"
                                           process="@this"
                                           update="@none" />
                            
                            <p:commandButton value="Créer l'utilisateur" 
                                           action="#{adminUsersBean.create()}" 
                                           update="createGrowl listForm:usersTable @form"
                                           styleClass="btn btn-primary"
                                           process="@form"
                                           oncomplete="if(!args.validationFailed) { PF('createUserDialog').hide(); }" />
                        </div>
                    </h:form>
                </p:dialog>

                <!-- Users List Card -->
                <div class="users-list-card">
                    <div class="card-header">
                        <div class="card-title-section">
                            <i class="pi pi-list card-icon"></i>
                            <h3 class="card-title">Liste des Utilisateurs</h3>
                        </div>
                        <p class="card-description">Gérez les comptes existants et leurs permissions</p>
                    </div>

                    <h:form id="listForm">
                        <p:growl id="listGrowl" showDetail="true" life="3000" sticky="false"
                                styleClass="custom-growl" />

                        <div class="table-container">
                            <p:dataTable id="usersTable" value="#{adminUsersBean.users}" var="u"
                                       paginator="true" rows="25" rowKey="#{u.login}"
                                       selectionMode="single" selection="#{adminUsersBean.selectedUser}"
                                       emptyMessage="Aucun utilisateur trouvé"
                                       styleClass="modern-table"
                                       paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                       rowsPerPageTemplate="10,15,20,25">

                                <!-- Login -->
                                <p:column headerText="Login" sortBy="#{u.login}" filterBy="#{u.login}" filterMatchMode="contains" style="width: 20%;">
                                <div class="d-flex align-items-center">
                                    <div class="user-avatar">
                                        <i class="pi pi-user" style="font-size: 1.25rem; color: #5f6368;"></i>
                                    </div>
                                    <div class="ms-3">
                                        <div class="fw-semibold">#{u.login}</div>
                                        <div class="text-muted small">#{u.name != null ? u.name : 'Non renseigné'}</div>
                                    </div>
                                </div>
                            </p:column>
                            <p:column headerText="Email" sortBy="#{u.email}" filterBy="#{u.email}" filterMatchMode="contains" style="width: 25%;">
                                <div class="d-flex align-items-center">
                                    <i class="pi pi-envelope me-2" style="color: #5f6368;"></i>
                                    <span>#{u.email}</span>
                                </div>
                            </p:column>
                            <p:column headerText="Rôles" sortBy="#{u.login}" style="width: 20%;">
                                <span class="role-badge">
                                    <i class="pi pi-tag me-2"></i>
                                    #{adminUsersBean.getUserRolesAsString(u.login)}
                                </span>
                            </p:column>
                            <p:column headerText="Statut" sortBy="#{u.actif}" filterBy="#{u.actif}" filterMatchMode="exact" style="width: 15%;">
                                <span class="status-badge #{u.actif ? 'status-active' : 'status-inactive'}">
                                    <i class="pi #{u.actif ? 'pi-check' : 'pi-times'} me-1"></i>
                                    #{u.actif ? 'Actif' : 'Inactif'}
                                </span>
                            </p:column>
                            <p:column headerText="Contact" sortBy="#{u.email}" filterBy="#{u.email}">
                                <div class="contact-info">
                                    <ui:fragment rendered="#{not empty u.email}">
                                        <i class="pi pi-envelope contact-icon"></i>
                                        <span class="user-email">#{u.email}</span>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{empty u.email}">
                                        <span class="no-email">Aucun email</span>
                                    </ui:fragment>
                                </div>
                            </p:column>
                            <p:column headerText="Téléphone" sortBy="#{u.telephone}" filterBy="#{u.telephone}">
                                <span>#{u.telephone}</span>
                            </p:column>
                            <p:column headerText="Adresse">
                                <div>
                                    <div>#{u.adresse}</div>
                                    <small>#{u.codePostal}</small>
                                </div>
                            </p:column>

                            <!-- Statut -->
                            <p:column headerText="Statut" sortBy="#{u.actif}" style="width: 120px;">
                                <div class="status-toggle">
                                    <p:selectBooleanButton value="#{u.actif}"
                                                         onLabel="ACTIF" offLabel="INACTIF"
                                                         onIcon="pi pi-check" offIcon="pi pi-times"
                                                         styleClass="status-button"
                                                         update="usersTable listForm:listGrowl"
                                                         process="@this">
                                        <p:ajax listener="#{adminUsersBean.setEnabled(u, not u.actif)}"
                                              update="listForm:usersTable listForm:listGrowl"/>
                                    </p:selectBooleanButton>
                                </div>
                            </p:column>

                            <!-- Actions -->
                            <p:column headerText="Actions" style="width: 100px;">
                                <div class="action-buttons">
                                    <p:commandButton icon="pi pi-users" 
                                                   title="Gérer les rôles"
                                                   process="@this"
                                                   onclick="PF('rolesDialog').show()"
                                                   update=":rolesForm:rolesPanel"
                                                   action="#{adminUsersBean.openEdit(u)}"
                                                   styleClass="action-button role-button"/>
                                </div>
                            </p:column>
                        </p:dataTable>
                    </div>
                </h:form>
            </div>
        </div>
    </div>

    <!-- Roles Management Dialog -->
        <h:form id="rolesForm">
            <p:dialog header="Gestion des Rôles" widgetVar="rolesDialog" modal="true"
                    responsive="true" draggable="false" closable="true"
                    styleClass="modern-dialog" appendTo="@(body)">
                
                <h:panelGroup id="rolesPanel">
                    <div class="dialog-content">
                        <div class="user-info-section" rendered="#{not empty adminUsersBean.selectedUser}">
                            <div class="selected-user">
                                <div class="user-avatar-large">
                                    <i class="pi pi-user"></i>
                                </div>
                                <div class="user-dialog-info">
                                    <h4 class="user-dialog-name">#{adminUsersBean.selectedUser.name}</h4>
                                    <p class="user-dialog-login">@#{adminUsersBean.selectedUser.login}</p>
                                    <div class="user-status">
                                        <i class="pi pi-circle-fill status-dot #{adminUsersBean.selectedUser.actif ? 'active' : 'inactive'}"></i>
                                        <span>#{adminUsersBean.selectedUser.actif ? 'Compte actif' : 'Compte inactif'}</span>
                                    </div>
                                </div>
                            </div>

                            <div class="roles-section">
                                <label class="dialog-label">Rôles attribués</label>
                                <div class="roles-grid">
                                    <p:selectCheckboxMenu value="#{adminUsersBean.selectedRoles}"
                                                        label="Sélectionner les rôles"
                                                        multiple="true"
                                                        panelStyle="min-width:20rem"
                                                        style="width:100%"
                                                        styleClass="modern-select">
                                        <f:selectItems value="#{adminUsersBean.allRoles}"
                                                     var="r" itemLabel="#{r.code}" itemValue="#{r.code}"/>
                                    </p:selectCheckboxMenu>
                                </div>
                                <div class="dialog-hint">Cochez les rôles à attribuer à cet utilisateur</div>

                                <div class="current-roles" rendered="#{not empty adminUsersBean.selectedUser.roles}">
                                    <h5>Rôles actuels :</h5>
                                    <div class="roles-list">
                                        <div class="role-tag" rendered="#{adminUsersBean.selectedUser.roles.size() > 0}">
                                            <span class="role-count">#{adminUsersBean.selectedUser.roles.size()} rôle(s)</span>
                                            <small>attribué(s)</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="dialog-actions">
                                <p:commandButton value="Annuler"
                                               onclick="PF('rolesDialog').hide()"
                                               styleClass="dialog-button secondary"
                                               immediate="true"/>
                                <p:commandButton value="Enregistrer les modifications"
                                               icon="pi pi-check"
                                               action="#{adminUsersBean.saveRoles}"
                                               update="listForm:usersTable listForm:listGrowl"
                                               onclick="PF('rolesDialog').hide()"
                                               styleClass="dialog-button primary"/>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>
            </p:dialog>
        </h:form>

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap');
            
            /* CSS Variables */
            :root {
                --primary: #ff6b00;        /* Orange plus vif */
                --primary-dark: #e65c00;   /* Orange plus foncé */
                --primary-light: #ffd8b8;  /* Orange très clair */
                --primary-ultra-light: #ffeddd;
                --success: #10b981;
                --warning: #f59e0b;
                --danger: #ef4444;
                --dark: #1a1a1a;
                --light: #ffffff;
                --border: #e0e0e0;
                --text: #1a1a1a;
                --text-light: #666666;
                --radius: 0.75rem;
                --card-bg: #ffffff;
                --header-bg: #ffffff;
                --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
                --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
                --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
                --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
                --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                --transition: all 0.2s ease-in-out;
                --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            }
            
            body {
                font-family: var(--font-sans);
                background: #f8f9fa;
                color: var(--text);
                line-height: 1.6;
                margin: 0;
                padding: 0;
                min-height: 100vh;
            }
            
            @keyframes gradientBG {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }

            /* Main Container */
            .admin-users-container {
                max-width: 1600px;
                margin: 0 auto;
                padding: 0 2rem 4rem;
            }

            .admin-users-container .ui-datatable tbody td {
                padding: 1rem 1.25rem;
                border-bottom: 1px solid var(--border);
                vertical-align: middle;
                background: #ffffff;
                transition: background-color 0.2s ease;
            }
            
            @keyframes fadeIn {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            
            /* Délai d'animation pour chaque ligne */
            .admin-users-container .ui-datatable tbody tr:nth-child(1) td { animation-delay: 0.1s; }
            .admin-users-container .ui-datatable tbody tr:nth-child(2) td { animation-delay: 0.15s; }
            .admin-users-container .ui-datatable tbody tr:nth-child(3) td { animation-delay: 0.2s; }
            .admin-users-container .ui-datatable tbody tr:nth-child(4) td { animation-delay: 0.25s; }
            .admin-users-container .ui-datatable tbody tr:nth-child(5) td { animation-delay: 0.3s; }

            /* Page Header */
            .page-header {
                background: var(--header-bg);
                padding: 1rem 1.5rem;
                border-radius: var(--radius);
                margin-bottom: 1.5rem;
                box-shadow: var(--shadow);
            }
            
            .header-content {
                display: flex;
                justify-content: space-between;
                align-items: center;
                max-width: 1400px;
                margin: 0 auto;
                flex-wrap: wrap;
                gap: 1rem;
            }
            
            .header-icon {
                font-size: 2rem;
                color: var(--primary);
                background: rgba(255, 152, 0, 0.1);
                padding: 0.6rem;
                border-radius: 50%;
            }

            .card-title {
                font-size: 1.25rem;
                font-weight: 700;
                margin: 0;
                color: white;
                letter-spacing: 0.5px;
            }

            .page-title {
                color: var(--text);
                margin: 0;
                font-size: 1.5rem;
                font-weight: 600;
            }

            .form-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 1.25rem;
                margin-top: 0.75rem;
            }

            .header-title {
                display: flex;
                align-items: center;
                gap: 0.75rem;
            }

            .status-dot {
                font-size: 0.5rem;
            }

            .users-list-card {
                background: var(--card-bg);
                border-radius: var(--radius);
                border: 1px solid var(--border);
                box-shadow: var(--shadow);
                overflow: hidden;
                transition: all 0.3s ease;
                width: 100%;
                margin: 0;
                position: relative;
            }
            
            .users-list-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            }
            
            .users-list-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(90deg, 
                    var(--primary) 0%, 
                    #ff8c42 25%, 
                    #ff9e5e 50%, 
                    #ff8c42 75%, 
                    var(--primary) 100%);
                background-size: 200% 100%;
                animation: gradientX 3s ease infinite;
            }
            
            @keyframes gradientX {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }

            .action-button {
                background: #ffffff;
                border: 1px solid var(--border);
                color: var(--text-light);
                cursor: pointer;
                padding: 0.5rem;
                border-radius: 8px;
                transition: all 0.2s ease;
                font-size: 1rem;
                width: 36px;
                height: 36px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            }
            
            .action-button::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 50%;
                transform: translate(-50%, -50%);
                transition: width 0.4s ease, height 0.4s ease;
                opacity: 0;
            }
            
            .action-button:active::after {
                width: 100%;
                height: 100%;
                opacity: 1;
                transition: 0s;
            }
            
            .action-button:hover {
                background: var(--primary-light);
                color: var(--primary-dark);
                border-color: var(--primary);
                transform: translateY(-1px);
            }

            .btn {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                padding: 1rem 2.25rem;
                border-radius: 50px;
                font-weight: 600;
                font-size: 0.9rem;
                line-height: 1.25rem;
                cursor: pointer;
                transition: all 0.4s var(--ease-out-quart);
                border: none;
                text-decoration: none;
                gap: 0.75rem;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                position: relative;
                overflow: hidden;
                z-index: 1;
                transform: translateY(0);
                will-change: transform, box-shadow;
            }
            
            .btn:active {
                transform: translateY(2px);
            }
            
            .btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, var(--primary), var(--primary-dark));
                z-index: -1;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                opacity: 1;
            }
            
            .btn:hover::before {
                transform: scale(1.05);
                box-shadow: 0 10px 20px rgba(255, 107, 0, 0.3);
            }

            .btn-primary {
                color: white;
                background: linear-gradient(135deg, var(--primary), var(--primary-dark));
                box-shadow: 0 4px 20px rgba(255, 107, 0, 0.25);
                position: relative;
                overflow: hidden;
            }
            
            .btn-primary::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(
                    90deg,
                    transparent,
                    rgba(255, 255, 255, 0.2),
                    transparent
                );
                transition: 0.5s;
            }
            
            .btn-primary:hover::before {
                left: 100%;
            }

            .btn-primary:hover {
                transform: translateY(-3px);
                box-shadow: 0 15px 30px rgba(255, 107, 0, 0.4);
            }

            .modern-dialog .ui-dialog-titlebar {
                background: var(--light);
                border-bottom: 1px solid var(--border);
                padding: 1.5rem 2rem;
            }

            .user-dialog-name {
                margin: 0;
                color: var(--dark);
                font-weight: 600;
                font-size: 1.25rem;
            }

            .user-dialog-login {
                margin: 0.25rem 0;
                color: var(--text-light);
                font-size: 0.9rem;
            }

            .user-status {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                margin-top: 0.5rem;
            }

            .status-dot {
                font-size: 0.5rem;
            }

            .status-dot.active {
                color: var(--success);
            }

            .status-dot.inactive {
                color: var(--danger);
            }

            .roles-section {
                border: 1px solid var(--border);
                border-radius: 8px;
                padding: 1.5rem;
                background: var(--light);
            }

            .dialog-label {
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 0.75rem;
                display: block;
            }

            .roles-grid {
                margin-bottom: 1rem;
            }

            .dialog-hint {
                font-size: 0.8rem;
                color: var(--text-light);
                margin-bottom: 1rem;
            }

            .current-roles {
                padding-top: 1rem;
                border-top: 1px solid var(--border);
            }

            .current-roles h5 {
                margin: 0 0 0.75rem 0;
                color: var(--dark);
                font-size: 0.9rem;
            }

            .roles-list {
                display: flex;
                gap: 0.5rem;
            }

            .role-tag {
                background: var(--primary);
                color: white;
                padding: 0.5rem 0.75rem;
                border-radius: 6px;
                font-size: 0.85rem;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0.125rem;
            }

            .role-count {
                font-weight: 600;
            }

            .dialog-actions {
                display: flex;
                gap: 1rem;
                justify-content: flex-end;
                padding-top: 1.5rem;
                border-top: 1px solid var(--border);
            }

            .dialog-button {
                padding: 0.75rem 1.5rem;
                border: none;
                border-radius: 8px;
                font-weight: 600;
                transition: var(--transition);
            }

            .dialog-button.primary {
                background: var(--primary);
                color: white;
            }

            .dialog-button.primary:hover {
                background: var(--primary-dark);
            }

            .dialog-button.secondary {
                background: var(--light);
                color: var(--text);
                border: 1px solid var(--border);
            }

            .dialog-button.secondary:hover {
                background: #e9ecef;
            }

            /* Growl Notifications */
            .custom-growl {
                position: relative !important;
                top: auto !important;
                right: auto !important;
                width: 100%;
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .header-content {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 1.5rem;
                }
                
                .header-stats {
                    width: 100%;
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 1rem;
                }
                
                .stat-card {
                    margin: 0;
                }
                
                .users-content {
                    padding: 0 1rem;
                }
                
                .ui-datatable thead {
                    display: none;
                }
                
                .ui-datatable tbody td {
                    display: block;
                    text-align: right;
                    padding: 0.75rem 1rem;
                    position: relative;
                    padding-left: 50%;
                }
                
                .ui-datatable tbody td:before {
                    content: attr(data-label);
                    position: absolute;
                    left: 1rem;
                    width: 45%;
                    text-align: left;
                    font-weight: 600;
                    color: var(--primary-dark);
                }

                .dialog-actions {
                    flex-direction: column;
                }

                .action-buttons {
                    justify-content: flex-start;
                }
            }
        </style>

        
    <h:outputScript library="js" name="admin.js" target="body"/>
    </ui:define>
</ui:composition>